# ğŸŒ ë¸Œë¼ìš°ì € í”„ë¡œí•„ ì„¤ì • ê°€ì´ë“œ (ë²”ìš©)

> ğŸ’¡ **Google OAuth ë¡œê·¸ì¸ ì—ëŸ¬ í•´ê²° ë° ë¸Œë¼ìš°ì € ìë™í™” ìµœì í™”**

## ğŸ“‹ ë¬¸ì œ ìƒí™©

### ë°œìƒí•˜ëŠ” ì—ëŸ¬

**Google ë¡œê·¸ì¸ ì‹œ**:

```
ë¡œê·¸ì¸í•  ìˆ˜ ì—†ìŒ

ë¸Œë¼ìš°ì € ë˜ëŠ” ì•±ì´ ì•ˆì „í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë‹¤ë¥¸ ë¸Œë¼ìš°ì €ë¥¼ ì‚¬ìš©í•´ ë³´ì„¸ìš”.
```

**Notion ë¡œê·¸ì¸ ì‹œ**:

- Google OAuthë¥¼ í†µí•œ ë¡œê·¸ì¸ ì°¨ë‹¨
- "ì•ˆì „í•˜ì§€ ì•Šì€ ë¸Œë¼ìš°ì €" ë©”ì‹œì§€
- ìë™í™” ê°ì§€ë¡œ ì¸í•œ ì ‘ê·¼ ê±°ë¶€

---

## ğŸ” ì›ì¸ ë¶„ì„

### 1. ìë™í™” ê°ì§€ (Automation Detection)

**Playwrightê°€ ì„¤ì •í•˜ëŠ” ê°’ë“¤**:

```javascript
// ìë™ìœ¼ë¡œ ì„¤ì •ë˜ëŠ” ê°’
navigator.webdriver = true; // âŒ Googleì´ ê°ì§€
window.chrome = undefined; // âŒ Chrome ì•„ë‹˜ì„ í‘œì‹œ
```

### 2. ê¹¨ë—í•œ ë¸Œë¼ìš°ì € ìƒíƒœ

- ì¿ í‚¤ ì—†ìŒ
- ìºì‹œ ì—†ìŒ
- ë¸Œë¼ìš°ì € íˆìŠ¤í† ë¦¬ ì—†ìŒ
- â†’ **"ìƒˆë¡œìš´ ìˆ˜ìƒí•œ ë¸Œë¼ìš°ì €"ë¡œ ì¸ì‹**

### 3. ë¸Œë¼ìš°ì € ì§€ë¬¸(Fingerprint)

- User-Agent
- í™”ë©´ í•´ìƒë„
- í”ŒëŸ¬ê·¸ì¸ ëª©ë¡
- WebGL ì •ë³´
- â†’ **ìë™í™” ë„êµ¬ íŒ¨í„´ ê°ì§€**

---

## âœ… í•´ê²° ë°©ë²•

### ë°©ë²• 1: ê¸°ë³¸ ë¸Œë¼ìš°ì € í”„ë¡œí•„ ì‚¬ìš© (ê¶Œì¥) â­

**âš ï¸ ì¤‘ìš” ì „ì œ ì¡°ê±´**:
- **Chrome ê³„ì • = Notion ê³„ì •** (ê°™ì€ Google ê³„ì •)
- ë§Œì•½ ë‹¤ë¥´ë‹¤ë©´ "ë°©ë²• 2: ì „ìš© í”„ë¡œí•„ ìƒì„±" ì‚¬ìš©

**ì¥ì **:

- âœ… ì´ë¯¸ ë¡œê·¸ì¸ëœ ìƒíƒœ ìœ ì§€
- âœ… ì¿ í‚¤ ë° ì„¸ì…˜ ë³´ì¡´
- âœ… Google OAuth ì°¨ë‹¨ íšŒí”¼
- âœ… ê°€ì¥ ì•ˆì •ì 

**ë‹¨ì **:

- âš ï¸ ë¸Œë¼ìš°ì € í”„ë¡œí•„ ê²½ë¡œ í•„ìš”
- âš ï¸ í”„ë¡œí•„ì´ ì‚¬ìš© ì¤‘ì´ë©´ ì‹¤íŒ¨
- âš ï¸ Chrome ê³„ì •ê³¼ Notion ê³„ì •ì´ ê°™ì•„ì•¼ í•¨

#### Chrome í”„ë¡œí•„ ê²½ë¡œ ì°¾ê¸°

**Windows**:

```
C:\Users\[ì‚¬ìš©ìëª…]\AppData\Local\Google\Chrome\User Data
```

**macOS**:

```
/Users/[ì‚¬ìš©ìëª…]/Library/Application Support/Google/Chrome
```

**Linux**:

```
~/.config/google-chrome
```

#### Playwright ì½”ë“œ íŒ¨í„´

```javascript
// browser_evaluate ë˜ëŠ” Playwright ì„¤ì •ì—ì„œ ì‚¬ìš©
const browser = await chromium.launchPersistentContext(
  "C:\\Users\\[ì‚¬ìš©ìëª…]\\AppData\\Local\\Google\\Chrome\\User Data", // í”„ë¡œí•„ ê²½ë¡œ
  {
    headless: false,
    channel: "chrome", // ì„¤ì¹˜ëœ Chrome ì‚¬ìš©
    args: [
      "--disable-blink-features=AutomationControlled", // ìë™í™” í”Œë˜ê·¸ ì œê±°
      "--disable-automation",
      "--disable-infobars",
    ],
  }
);
```

#### ì£¼ì˜ì‚¬í•­

**í”„ë¡œí•„ ì‚¬ìš© ì¤‘ ì—ëŸ¬**:

```
Error: Failed to launch browser: Cannot start Chrome because it's already running
```

**í•´ê²°**:

1. Chromeì„ ì™„ì „íˆ ì¢…ë£Œ
2. ë˜ëŠ” ë³„ë„ í”„ë¡œí•„ ìƒì„± ì‚¬ìš©

---

### ë°©ë²• 2: ì „ìš© í”„ë¡œí•„ ìƒì„± ë° ì‚¬ì „ ë¡œê·¸ì¸ (ë‹¤ì¤‘ ê³„ì • ê¶Œì¥) â­

**âœ… ì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°**:
- Chrome ê³„ì • â‰  Notion ê³„ì •
- ë‹¤ì¤‘ Notion ê³„ì • ì‚¬ìš©
- ë©”ì¸ Chromeê³¼ ë¶„ë¦¬í•˜ê³  ì‹¶ì€ ê²½ìš°

**ì¥ì **:

- âœ… ë©”ì¸ ë¸Œë¼ìš°ì €ì™€ ì¶©ëŒ ì—†ìŒ
- âœ… ìë™í™” ì „ìš©ìœ¼ë¡œ ê²©ë¦¬
- âœ… ì•ˆì •ì 
- âœ… **ë‹¤ì¤‘ ê³„ì • ì§€ì›** (Chrome ê³„ì •ê³¼ ë¬´ê´€)

**ë‹¨ì **:

- âš ï¸ ì´ˆê¸° ë¡œê·¸ì¸ í•„ìš” (1íšŒë§Œ)
- âš ï¸ í”„ë¡œí•„ ê²½ë¡œ ê´€ë¦¬ í•„ìš”

#### ì „ìš© í”„ë¡œí•„ ìƒì„±

**ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤**:

```
ì˜ˆì‹œ 1: íšŒì‚¬ ì´ë©”ì¼ ì‚¬ìš©
- Chrome: personal@gmail.com
- Notion: company@company.com
â†’ ì „ìš© í”„ë¡œí•„ì— company@company.comìœ¼ë¡œ ë¡œê·¸ì¸

ì˜ˆì‹œ 2: ë‹¤ë¥¸ Google ê³„ì •
- Chrome: user1@gmail.com
- Notion: user2@gmail.com
â†’ ì „ìš© í”„ë¡œí•„ì— user2@gmail.comìœ¼ë¡œ ë¡œê·¸ì¸
```

**1ë‹¨ê³„: í”„ë¡œí•„ ë””ë ‰í† ë¦¬ ìƒì„±**

```bash
# Windows
mkdir e:\hanghae99\my\Notion_Agent\chrome_profile_notion

# macOS/Linux
mkdir -p ~/notion_agent/chrome_profile_notion
```

**2ë‹¨ê³„: MCP ì„¤ì • (mcp.json)**

```json
"playwright-mcp": {
  "command": "npx",
  "args": ["@playwright/mcp@latest"],
  "env": {
    "PLAYWRIGHT_LAUNCH_OPTIONS": "{\"channel\":\"chrome\",\"args\":[\"--disable-blink-features=AutomationControlled\",\"--disable-automation\"],\"userDataDir\":\"e:\\\\hanghae99\\\\my\\\\Notion_Agent\\\\chrome_profile_notion\"}"
  }
}
```

**âš ï¸ ì£¼ì˜**: Windows ê²½ë¡œëŠ” `\\`ë¡œ ì´ìŠ¤ì¼€ì´í”„ (ë‘ ë²ˆ ë°±ìŠ¬ë˜ì‹œ)

**macOS/Linux**:
```json
"PLAYWRIGHT_LAUNCH_OPTIONS": "{\"channel\":\"chrome\",\"args\":[\"--disable-blink-features=AutomationControlled\",\"--disable-automation\"],\"userDataDir\":\"/Users/username/notion_agent/chrome_profile_notion\"}"
```

**3ë‹¨ê³„: ì²« ì‹¤í–‰ ì‹œ ìˆ˜ë™ ë¡œê·¸ì¸**

```
1. Agent ì‹¤í–‰: @Universal_Notion_Agent/ ì‹œì‘
2. Chrome ìë™ ì‹¤í–‰ (ìƒˆ ì „ìš© í”„ë¡œí•„)
3. Notion ë¡œê·¸ì¸ í˜ì´ì§€ í‘œì‹œ
4. ì›í•˜ëŠ” Notion ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸
   (Chrome ê³„ì •ê³¼ ë‹¬ë¼ë„ ë¨!)
5. "ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€" ì²´í¬
6. ë¡œê·¸ì¸ ì™„ë£Œ í›„ "ì™„ë£Œ" ì…ë ¥
```

**4ë‹¨ê³„: ì´í›„ ìë™ ë¡œê·¸ì¸**

- ì´ì œë¶€í„°ëŠ” ìë™ìœ¼ë¡œ í•´ë‹¹ Notion ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸
- Chrome ë©”ì¸ í”„ë¡œí•„ê³¼ ì™„ì „íˆ ë…ë¦½ì 
- ë¸Œë¼ìš°ì € ì¢…ë£Œí•´ë„ ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€

---

### ë°©ë²• 3: Stealth ëª¨ë“œ + ìë™í™” í”Œë˜ê·¸ ì œê±°

**ì¥ì **:

- âœ… í”„ë¡œí•„ ë¶ˆí•„ìš”
- âœ… ê¹¨ë—í•œ ìƒíƒœì—ì„œ ì‹œì‘

**ë‹¨ì **:

- âš ï¸ ë§¤ë²ˆ ë¡œê·¸ì¸ í•„ìš”í•  ìˆ˜ ìˆìŒ
- âš ï¸ Googleì´ ì—¬ì „íˆ ê°ì§€ ê°€ëŠ¥

#### Playwright Args ìµœì í™”

```javascript
const browser = await chromium.launch({
  headless: false,
  channel: "chrome",
  args: [
    // ìë™í™” ê°ì§€ ì œê±°
    "--disable-blink-features=AutomationControlled",
    "--disable-automation",
    "--disable-infobars",

    // ë³´ì•ˆ ë° ìƒŒë“œë°•ìŠ¤ (í•„ìš” ì‹œ)
    "--no-sandbox",
    "--disable-setuid-sandbox",

    // WebGL ë° Canvas ì§€ë¬¸ ë°©ì§€
    "--disable-webgl",
    "--disable-software-rasterizer",

    // ê¸°íƒ€ ìµœì í™”
    "--disable-dev-shm-usage",
    "--disable-extensions",
  ],
});

// navigator.webdriver ì œê±°
await page.evaluateOnNewDocument(() => {
  Object.defineProperty(navigator, "webdriver", {
    get: () => false,
  });
});
```

---

### ë°©ë²• 4: ìˆ˜ë™ ë¡œê·¸ì¸ í›„ ì„¸ì…˜ ìœ ì§€

**ì¥ì **:

- âœ… ì™„ì „íˆ ì•ˆì „
- âœ… Google ì°¨ë‹¨ ì—†ìŒ

**ë‹¨ì **:

- âš ï¸ ì‚¬ìš©ì ê°œì… í•„ìš”
- âš ï¸ ì™„ì „ ìë™í™” ì•„ë‹˜

#### ì›Œí¬í”Œë¡œìš°

```
1. ë¸Œë¼ìš°ì € ìë™í™” ì‹œì‘
2. Notion ë¡œê·¸ì¸ í˜ì´ì§€ ì—´ê¸°
3. â¸ï¸ AI Agent: "ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”" ë©”ì‹œì§€
4. ì‚¬ìš©ì: ìˆ˜ë™ìœ¼ë¡œ ë¡œê·¸ì¸ ì™„ë£Œ
5. ì‚¬ìš©ì: "ì™„ë£Œ" ì…ë ¥
6. AI Agent: ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ í›„ ê³„ì† ì§„í–‰
```

---

## ğŸ”§ í”Œë«í¼ë³„ êµ¬í˜„ ë°©ë²•

### Cursor Pro (MCP)

**MCP ì„œë²„ ì„¤ì •**:

```json
{
  "mcpServers": {
    "playwright": {
      "command": "npx",
      "args": ["-y", "@executeautomation/playwright-mcp-server"],
      "env": {
        "PLAYWRIGHT_LAUNCH_OPTIONS": "{\"channel\":\"chrome\",\"args\":[\"--disable-blink-features=AutomationControlled\"]}"
      }
    }
  }
}
```

**AI Agentê°€ browser_evaluateë¡œ ì„¤ì •**:

```javascript
// í”„ë¡œí•„ ê²½ë¡œ ì‚¬ìš©
await context.newPage();
```

### Claude CLI

**í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**:

```bash
export CHROME_PROFILE_PATH="C:\Users\[ì‚¬ìš©ìëª…]\AppData\Local\Google\Chrome\User Data"
```

### Antigravity

**ì„¤ì • íŒŒì¼** (`antigravity.json`):

```json
{
  "playwright": {
    "launchOptions": {
      "channel": "chrome",
      "headless": false,
      "args": [
        "--disable-blink-features=AutomationControlled",
        "--disable-automation"
      ]
    },
    "contextOptions": {
      "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
    }
  }
}
```

---

## ğŸ“‹ AI Agent êµ¬í˜„ ê°€ì´ë“œ

### ì…‹ì—… í™•ì¸ ë‹¨ê³„ì— ì¶”ê°€

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:

```markdown
ğŸ”§ **Notion Agent ì…‹ì—… í™•ì¸ ì¤‘...**

**ë¸Œë¼ìš°ì € í”„ë¡œí•„ ì„¤ì •**:

- ğŸŒ Chrome í”„ë¡œí•„ ê²½ë¡œ: [ê°ì§€ëœ ê²½ë¡œ ë˜ëŠ” "ë¯¸ì„¤ì •"]
- ğŸ” Notion ë¡œê·¸ì¸ ìƒíƒœ: [í™•ì¸ ì¤‘...]

**ê¶Œì¥ ì‚¬í•­**:

- âœ… Chrome ê¸°ë³¸ í”„ë¡œí•„ ì‚¬ìš© (ì´ë¯¸ ë¡œê·¸ì¸ëœ ìƒíƒœ)
- âœ… ë˜ëŠ” ì „ìš© í”„ë¡œí•„ ìƒì„± í›„ ì‚¬ì „ ë¡œê·¸ì¸

**ì„¤ì • ë°©ë²•**:

â†’ `Core_Guides/05_ë¸Œë¼ìš°ì €_í”„ë¡œí•„_ì„¤ì •.md` ì°¸ì¡°
```

### ë¡œê·¸ì¸ ì—ëŸ¬ ë°œìƒ ì‹œ

**ì—ëŸ¬ ê°ì§€**:

```javascript
// Notion í˜ì´ì§€ì—ì„œ ë¡œê·¸ì¸ í˜ì´ì§€ì¸ì§€ í™•ì¸
const isLoginPage = await page.evaluate(() => {
  return (
    document.body.innerText.includes("ë¡œê·¸ì¸í•  ìˆ˜ ì—†ìŒ") ||
    document.body.innerText.includes("ì•ˆì „í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤")
  );
});
```

**AI Agent ë³´ê³ **:

```markdown
ğŸš¨ **Google OAuth ë¡œê·¸ì¸ ì—ëŸ¬ ë°œìƒ**

**ì—ëŸ¬ ì½”ë“œ**: ERR_GOOGLE_OAUTH_BLOCKED
**ì›ì¸**: Googleì´ ìë™í™” ë¸Œë¼ìš°ì €ë¥¼ ê°ì§€í•˜ì—¬ ë¡œê·¸ì¸ ì°¨ë‹¨

**í•´ê²° ë°©ë²•**:

**ë°©ë²• 1 (ê¶Œì¥)**: Chrome ê¸°ë³¸ í”„ë¡œí•„ ì‚¬ìš©

1. Chromeì„ ì™„ì „íˆ ì¢…ë£Œí•´ì£¼ì„¸ìš”
2. ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ Agentë¥¼ ë‹¤ì‹œ ì‹œì‘í•˜ì„¸ìš”
3. í”„ë¡œí•„ ê²½ë¡œ ì„¤ì •: `[ìë™ ê°ì§€ëœ ê²½ë¡œ]`

â†’ ìì„¸í•œ ê°€ì´ë“œ: `Core_Guides/05_ë¸Œë¼ìš°ì €_í”„ë¡œí•„_ì„¤ì •.md`

**ë°©ë²• 2**: ìˆ˜ë™ ë¡œê·¸ì¸

1. ì§€ê¸ˆ ì—´ë¦° ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”
2. ë¡œê·¸ì¸ ì™„ë£Œ í›„ "ì™„ë£Œ"ë¼ê³  ì…ë ¥í•´ì£¼ì„¸ìš”

ì–´ë–¤ ë°©ë²•ì„ ì‚¬ìš©í•˜ì‹œê² ìŠµë‹ˆê¹Œ?

1. Chrome í”„ë¡œí•„ ì„¤ì • í›„ ì¬ì‹œë„
2. ì§€ê¸ˆ ìˆ˜ë™ ë¡œê·¸ì¸
```

---

## ğŸ¯ ê¶Œì¥ êµ¬ì„± (ìš°ì„ ìˆœìœ„)

### 1ìˆœìœ„: ê¸°ë³¸ Chrome í”„ë¡œí•„ â­

```javascript
launchPersistentContext(
  "C:\\Users\\[ì‚¬ìš©ìëª…]\\AppData\\Local\\Google\\Chrome\\User Data",
  {
    channel: "chrome",
    headless: false,
    args: ["--disable-blink-features=AutomationControlled"],
  }
);
```

**ì´ìœ **: ì´ë¯¸ ë¡œê·¸ì¸ëœ ìƒíƒœ, ê°€ì¥ ì•ˆì •ì 

### 2ìˆœìœ„: ì „ìš© í”„ë¡œí•„ + ì‚¬ì „ ë¡œê·¸ì¸

```javascript
launchPersistentContext("./chrome_profile_notion", {
  channel: "chrome",
  headless: false,
  args: ["--disable-blink-features=AutomationControlled"],
});
```

**ì´ìœ **: ë©”ì¸ ë¸Œë¼ìš°ì €ì™€ ì¶©ëŒ ì—†ìŒ

### 3ìˆœìœ„: Stealth ëª¨ë“œ

```javascript
launch({
  channel: "chrome",
  headless: false,
  args: ["--disable-blink-features=AutomationControlled"],
});

// navigator.webdriver ì œê±°
await page.evaluateOnNewDocument(() => {
  Object.defineProperty(navigator, "webdriver", {
    get: () => false,
  });
});
```

**ì´ìœ **: í”„ë¡œí•„ ë¶ˆí•„ìš”, í•˜ì§€ë§Œ ë§¤ë²ˆ ë¡œê·¸ì¸ í•„ìš” ê°€ëŠ¥

---

## ğŸ“ ì‚¬ìš©ì ê°€ì´ë“œì— ì¶”ê°€í•  ë‚´ìš©

### ì…‹ì—… ê°€ì´ë“œ ì—…ë°ì´íŠ¸

**ë…¸ì…˜_ì…‹ì—…_ê°€ì´ë“œ.md**ì— ì¶”ê°€:

```markdown
## ğŸŒ ë¸Œë¼ìš°ì € í”„ë¡œí•„ ì„¤ì • (ì¤‘ìš”)

**Google OAuth ë¡œê·¸ì¸ ì—ëŸ¬ ë°©ì§€**:

### ë°©ë²• 1: Chrome ê¸°ë³¸ í”„ë¡œí•„ ì‚¬ìš© (ê¶Œì¥)

1. Chromeì„ ì™„ì „íˆ ì¢…ë£Œ
2. Agent ì‹œì‘ ì‹œ ìë™ìœ¼ë¡œ ê¸°ë³¸ í”„ë¡œí•„ ì‚¬ìš©
3. ì´ë¯¸ ë¡œê·¸ì¸ëœ ìƒíƒœë¡œ ì‹œì‘ë¨

### ë°©ë²• 2: ì „ìš© í”„ë¡œí•„ ìƒì„±

1. í”„ë¡œì íŠ¸ í´ë”ì— `chrome_profile/` ë””ë ‰í† ë¦¬ ìƒì„±
2. Agent ì²« ì‹¤í–‰ ì‹œ ìˆ˜ë™ ë¡œê·¸ì¸
3. ì´í›„ ìë™ìœ¼ë¡œ ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€
```

---

## ğŸ” ë””ë²„ê¹… ì²´í¬ë¦¬ìŠ¤íŠ¸

**ë¡œê·¸ì¸ ì—ëŸ¬ ë°œìƒ ì‹œ**:

- [ ] Chromeì´ ì™„ì „íˆ ì¢…ë£Œë˜ì—ˆëŠ”ê°€?
- [ ] í”„ë¡œí•„ ê²½ë¡œê°€ ì •í™•í•œê°€?
- [ ] `--disable-blink-features=AutomationControlled` í”Œë˜ê·¸ê°€ ì„¤ì •ë˜ì—ˆëŠ”ê°€?
- [ ] `headless: false`ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ê°€? (headlessëŠ” ë” ì‰½ê²Œ ê°ì§€ë¨)
- [ ] Chrome ë²„ì „ì´ ìµœì‹ ì¸ê°€?
- [ ] ë‹¤ë¥¸ ìë™í™” ë„êµ¬ê°€ ì‹¤í–‰ ì¤‘ì¸ê°€?

---

## ğŸ“š ì°¸ì¡°

- **Playwright Launch Options**: https://playwright.dev/docs/api/class-browsertype#browser-type-launch-persistent-context
- **Chrome User Data Dir**: https://chromium.googlesource.com/chromium/src/+/master/docs/user_data_dir.md
- **Google OAuth ì •ì±…**: https://developers.google.com/identity/protocols/oauth2

---

**Made with â¤ï¸ for Universal Notion Agent**

---

## ğŸ“ ì¶œì²˜

**ì‘ì„±ì**: ê¹€ì¤€ëª¨  
**ì´ë©”ì¼**: rnsdlsdmtlk@gmail.com  
**ë²„ì „**: 2.1.1 (Browser Profile Guide)
